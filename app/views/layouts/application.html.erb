<!DOCTYPE html>
<html>
  <head>
    <title>LiVEHOUSE</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" rel="stylesheet">
    <meta name=”viewport” content=”width=device-width, initial-scale=1”>
  </head>

  <body class="container-fluid <%= controller.controller_name %>">
      <header class="row">
        <% if user_signed_in? %>
          <div class="main_out">
            <%= link_to "トップ", root_path %>
            <%= link_to "マイページ", user_path(current_user.id), class: "mypage" %>
            <%= link_to "お気に入り", favorites_path, class: "favorite" %>
            <%= link_to "ログアウト", destroy_user_session_path, method: :delete, class: "sign_out" %>
          </div>
          <div class="sub_out">
            <% if current_user.admin? %>
              <%= link_to "管理者画面", rails_admin_path, class: "admin" %>
            <% end %>
          </div>
        <% else %>
          <div class='main_in'>
            <%= link_to "新規登録", new_user_registration_path, class: "sign_up" %>
            <%= link_to "ログイン", new_user_session_path, class: "login" %>
          </div>
          <div class='sub_in'>
            <%= link_to '一般ゲスト', users_guest_sign_in_path, method: :post, class: "guest_login" %>
            <%= link_to '管理ゲスト', users_admin_guest_sign_in_path, method: :post, class: "admin_guest_login" %>
          </div>
        <% end %>    
      </header>
    <main>
      <% if notice %>
        <p class="alert alert-notice"><%= notice %></p>
      <% end %>
      <% if alert %>
        <p class="alert alert-error"><%= alert %></p>
      <% end %>
      <%= yield %>
    </main>
    <footer>
    
    </footer>
  </body>
</html>
